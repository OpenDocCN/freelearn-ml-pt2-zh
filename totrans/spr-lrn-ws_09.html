<html><head></head><body>
		<br/>
		<p class="style0">1. Fundamentals</p>
		<div style="page-break-before: always;"/>
	

		<br/>
		<h4 class="style0">Activity 1.01: Implementing Pandas Functions</h4>
		<br/>
		<p class="style0">Open a new Jupyter notebook.</p>
		<br/>
		<p class="style0">Use pandas to load the Titanic dataset:</p>
		<br/>
		<p class="style0">import pandas as pd</p>
		<br/>
		<p class="style0">df = pd.read_csv(r'../Datasets/titanic.csv')</p>
		<br/>
		<p class="style0">Use the head function on the dataset as follows:</p>
		<br/>
		<p class="style0"># Have a look at the first 5 sample of the data</p>
		<br/>
		<p class="style0">df.head()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-C8LRLI2Q.jpg" alt="Figure 1.26: First five rows&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.26: First five rows</p>
		<br/>
		<p class="style0">Use the describe function as follows:</p>
		<br/>
		<p class="style0">df.describe(include='all')</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-08I9W255.jpg" alt="Figure 1.27: Output of describe()&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.27: Output of describe()</p>
		<br/>
		<p class="style0">We do not need the Unnamed: 0 column. We can remove the column without using the del command, as follows:</p>
		<br/>
		<p class="style0">del df['Unnamed: 0']</p>
		<br/>
		<p class="style0">df = df[df.columns[1:]] # Use the columns</p>
		<br/>
		<p class="style0">df.head()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-3IS9NYQ8.jpg" alt="Figure 1.28: First five rows after deleting the Unnamed: 0 column&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.28: First five rows after deleting the Unnamed: 0 column</p>
		<br/>
		<p class="style0">Compute the mean, standard deviation, minimum, and maximum values for the columns of the DataFrame without using describe:</p>
		<br/>
		<p class="style0">df.mean()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-UT30C1VE.jpg" alt="Figure 1.29: Output for mean()&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.29: Output for mean()</p>
		<br/>
		<p class="style0">Now, calculate the standard deviation:</p>
		<br/>
		<p class="style0">df.std()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-HM1BXAG1.jpg" alt="Figure 1.30: Output for std()&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.30: Output for std()</p>
		<br/>
		<p class="style0">Calculate the minimum value of the columns:</p>
		<br/>
		<p class="style0">df.min()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-OZ5WBQAJ.jpg" alt="Figure 1.31: Output for min()&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.31: Output for min()</p>
		<br/>
		<p class="style0">Next, calculate the maximum value of the column of the dataframe.</p>
		<br/>
		<p class="style0">df.max()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-EM11IS7E.jpg" alt="Figure 1.32: Output for max()&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.32: Output for max()</p>
		<br/>
		<p class="style0">Use the quantile method for the 33, 66, and 99% quantiles, as shown in the following code snippet:</p>
		<br/>
		<p class="style0">df.quantile(0.33)</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-4IN2M7WQ.jpg" alt="Figure 1.33: Output for the 33% quantile&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.33: Output for the 33% quantile</p>
		<br/>
		<p class="style0">Similarly, use the quantile method for 66%:</p>
		<br/>
		<p class="style0">df.quantile(0.66)</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-Q0TROBCG.jpg" alt="Figure 1.34: Output for the 66% quantile&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.34: Output for the 66% quantile</p>
		<br/>
		<p class="style0">Use the same method for 99%:</p>
		<br/>
		<p class="style0">df.quantile(0.99)</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-7CC087HR.jpg" alt="Figure 1.35: Output for the 99% quantile&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.35: Output for the 99% quantile</p>
		<br/>
		<p class="style0">Find out how many passengers were from each class using the groupby method:</p>
		<br/>
		<p class="style0">class_groups = df.groupby('Pclass')</p>
		<br/>
		<p class="style0">for name, index in class_groups:</p>
		<br/>
		<p class="style0">    print(f'Class: {name}: {len(index)}')</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br/>
		<p class="style0">Class: 1: 323</p>
		<br/>
		<p class="style0">Class: 2: 277</p>
		<br/>
		<p class="style0">Class: 3: 709</p>
		<br/>
		<p class="style0">Find out how many passengers were from each class by using selecting/indexing methods to count the members of each class:</p>
		<br/>
		<p class="style0">for clsGrp in df.Pclass.unique():</p>
		<br/>
		<p class="style0">    num_class = len(df[df.Pclass == clsGrp])</p>
		<br/>
		<p class="style0">    print(f'Class {clsGrp}: {num_class}')</p>
		<br/>
		<p class="style0">The result will be as follows:</p>
		<br/>
		<p class="style0">Class 3: 709</p>
		<br/>
		<p class="style0">Class 1: 323</p>
		<br/>
		<p class="style0">Class 2: 277</p>
		<br/>
		<p class="style0">The answers to Step 6 and Step 7 do match.</p>
		<br/>
		<p class="style0">Determine who the eldest passenger in third class was:</p>
		<br/>
		<p class="style0">third_class = df.loc[(df.Pclass == 3)]</p>
		<br/>
		<p class="style0">third_class.loc[(third_class.Age == third_class.Age.max())]</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-3E0I4FN3.jpg" alt="Figure 1.36: Eldest passenger in third class&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.36: Eldest passenger in third class</p>
		<br/>
		<p class="style0">For a number of machine learning problems, it is very common to scale the numerical values between 0 and 1. Use the agg method with Lambda functions to scale the Fare and Age columns between 0 and 1:</p>
		<br/>
		<p class="style0">fare_max = df.Fare.max()</p>
		<br/>
		<p class="style0">age_max = df.Age.max()</p>
		<br/>
		<p class="style0">df.agg({'Fare': lambda x: x / fare_max, \</p>
		<br/>
		<p class="style0">        'Age': lambda x: x / age_max,}).head()</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-B8SLI1KY.jpg" alt="Figure 1.37: Scaling numerical values between 0 and 1&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.37: Scaling numerical values between 0 and 1</p>
		<br/>
		<p class="style0">Identify the one individual entry in the dataset without a listed Fare value:</p>
		<br/>
		<p class="style0">df_nan_fare = df.loc[(df.Fare.isna())]</p>
		<br/>
		<p class="style0">df_nan_fare</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-FKM88B4Y.jpg" alt="Figure 1.38: Individual without a listed fare value&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.38: Individual without a listed fare value</p>
		<br/>
		<p class="style0">Replace the NaN values of this row in the main DataFrame with the mean Fare value for those corresponding to the same class and Embarked location using the groupby method:</p>
		<br/>
		<p class="style0">embarked_class_groups = df.groupby(['Embarked', 'Pclass'])</p>
		<br/>
		<p class="style0">indices = embarked_class_groups\</p>
		<br/>
		<p class="style0">          .groups[(df_nan_fare.Embarked.values[0], \</p>
		<br/>
		<p class="style0">                   df_nan_fare.Pclass.values[0])]</p>
		<br/>
		<p class="style0">mean_fare = df.iloc[indices].Fare.mean()</p>
		<br/>
		<p class="style0">df.loc[(df.index == 1043), 'Fare'] = mean_fare</p>
		<br/>
		<p class="style0">df.iloc[1043]</p>
		<br/>
		<p class="style0">The output will be as follows:</p>
		<br style="line-height: 1,4"/>
		<div>
			<img src="../Images/image-HQ9K9JV1.jpg" alt="Figure 1.39: Output for the individual without listed fare details&#13;&#10;" height="100%"/>
		</div>
		<br/>
		<br/>
		<p class="style0" style="text-align: center">Figure 1.39: Output for the individual without listed fare details</p>
		<br/>
		<h4 class="style2">Note</h4>
		<br/>
		<p class="style2">To access the source code for this specific section, please refer to https://packt.live/2AWHbu0.</p>
		<br/>
		<p class="style2">You can also run this example online at https://packt.live/2NmAnse. You must execute the entire Notebook in order to get the desired result.</p>
		<div style="page-break-before: always;"/>
	</body></html>